<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet"  type="text/css" href="stylesheet.css">
    <title>Grading System</title>
</head>

<body>

    <div class="wrapper">
        <h1>Grade Calculator</h1>
        <div>Please Enter Your Numeric Grade:</div>
        <br>
        <div>
          <input id="grades"></input>
        </div>
        <br>
        <br>
        <p>Your Letter Grades Are:</p>
        <div id="calculated-grades"></div>
        <br>
        <p>Your Average Grade Is:</p>
        <div id="avgGrade"></div>
        <br>
        <p>Your Final Grade Is:</p>
        <div id="finalGrade"></div>
  </div> <!-- End of wrapper div -->

  <script>

   $(function() { // jQuery Document Ready (...the page finished loading.)

          $("#grades").keyup(function() { // keyup works best for doing realtime calculations...

              // Get the grades into an array
              var grades = $("#grades").val().trim(); // Does not work without the "trim"
              grades = grades.split(/\s+/);
              var message = ''; // Start with no message.

              // Loop through all the grades...
              for (var i in grades) {

                  // Convert the numbers into the letters here...
                  var test_grade = grades[i];
                  var grade = '';

                  console.log('grades.length '+ grades.length);
                  console.log('test_grade.length '+ test_grade.length);

                  if ((grades.length == 1) && (test_grade.length == 0)) { // The pressed the shift key or spacebar, just ignore...
                      //
                      break;
                  } else if (isNaN(test_grade) && (test_grade.length > 0)) { // Test for letters like "A" but ignore actual "NaN"
                      message = "<strong>ERROR</strong> - Please only enter numbers.";
                      break;
                  } else if (test_grade < 0) {
                      message = "<strong>ERROR</strong> - Valid grades are 0 - 100.";
                      break;
                  } else if ((test_grade < 60) && (test_grade >= 0)) {
                      grade = "F";
                  } else if (test_grade < 70) {
                      grade = "D";
                  } else if (test_grade < 80) {
                      grade = "C";
                  } else if (test_grade < 90) {
                      grade = "B";
                  } else if (test_grade <= 100) {
                      grade = "A";
                  } else if (test_grade > 100) {
                      message = "<strong>ERROR</strong> - Valid grades are 0 - 100.";
                      break;
                  }
                  message += grade + " ";

              } // end loop through array...

              $("#calculated-grades").html(message);
          
          });

   });

  </script>

</body>
</html>
